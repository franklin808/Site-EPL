<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Produto | EPL – Gráfica Flexográfica</title>
  <meta name="description" content="Detalhes do produto personalizado da EPL">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="/custom.css">
  <script src="https://hammerjs.github.io/dist/hammer.min.js"></script>
  <link rel="shortcut icon" href="/imgs/logo.webp">
</head>
<body class="bg-gray-50 text-gray-800">

  <script src="/parciais/header.js"></script>
  <div id="header-placeholder"></div>

  <main class="max-w-6xl mx-auto px-4 py-10">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-10 items-start">
      <!-- Galeria de Imagens -->
      <div>
        <div class="relative">
          <img id="imagem-principal" src="" alt="" class="w-full h-auto rounded-lg shadow-md object-contain max-h-[500px] mx-auto">
        </div>
        
        <!-- Thumbnails -->
        <div class="flex mt-4 gap-2 justify-center flex-wrap" id="thumbnails"></div>
      </div>

      <!-- Detalhes do Produto -->
      <div>
        <h1 id="titulo" class="text-3xl font-bold mb-4"></h1>
        <p id="descricao" class="text-gray-700 text-lg mb-6"></p>
        <p id="infoextra" class="text-gray-700 text-lg mb-6 ml-6"></p>
        <p class="text-sm text-gray-500 mt-56 mb-2">Atendemos em todo o Brasil</p>
        <p class="text-xl font-semibold text-purple-700 mb-4">Soluções personalizadas para sua marca</p>
        <a href="/#contato" class="inline-block bg-purple-700 hover:bg-purple-800 text-white font-medium px-6 py-3 rounded-full transition">Fazer orçamento</a>

      </div>
    </div>
  </main>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const nomeProduto = urlParams.get('produto');

const produtos = {
  'Rótulos para Sucos': {
    desc: 'Acabamento brilhante que valoriza sua marca e resiste à umidade da refrigeração.',
    infoextra: 'Material recomendado: BOPP brilho ou fosco. Indicado para garrafas plásticas ou de vidro que ficam sob refrigeração.',
    baseImg: 'suco'
  },
  'Rótulos para Picolés': {
    desc: 'Impressão resistente ao frio e umidade, ideal para produtos congelados.',
    infoextra: 'Desenvolvidos para resistir a temperaturas negativas e contato com gelo. Material: BOPP fosco ou transparente.',
    baseImg: 'picole'
  },
  'Adesivos Personalizados': {
    desc: 'Perfeito para ação de marketing, campanhas eleitorais e identificação em veículos, roupas e vitrines.',
    infoextra: 'Opções de acabamento: fosco, brilho, perolado, metalizado e transparente. Adesivos com excelente fixação e durabilidade.',
    baseImg: 'adesivos'
  },
  'Cartões de Visita': {
    desc: 'Design profissional e impressão de alta definição para causar uma ótima primeira impressão.',
    infoextra: 'Pode incluir laminação fosca, brilho localizado, QR Code e cortes especiais. Papel couché com alta gramatura.',
    baseImg: 'cartao'
  },
  'Rótulos para Produtos de Limpeza': {
    desc: 'Alta resistência a produtos químicos e umidade, garantindo segurança e durabilidade.',
    infoextra: 'Ideal para frascos plásticos com exposição constante à água ou agentes químicos. Material: BOPP fosco ou transparente.',
    baseImg: 'desinfetante'
  },
  'Copo Ecológico': {
    desc: 'Acabamento brilhante que valoriza sua marca e resiste à umidade da refrigeração.',
    infoextra: 'Rótulos ideais para personalização de copos reutilizáveis e ações sustentáveis. Excelente fixação e visual atrativo.',
    baseImg: 'copo'
  },
    'Ribbon': {
    desc: 'Impressão em alta qualidade para divulgar seus produtos e serviços.',
    infoextra: 'Impresso em papel couché de alta gramatura, com acabamento fosco ou brilho. Ideal para distribuição em massa ou eventos.',
    baseImg: 'ribbon'
  },
  'Impressão em Bobina': {
    desc: 'Ideal para grandes tiragens, com agilidade e compatibilidade para diversos sistemas de envase.',
    infoextra: 'Compatível com máquinas automáticas. Opções de material: BOPP ou papel térmico. Alta velocidade de produção.',
    baseImg: 'bobina'
  },
  'Rótulos para Garrafas de Vidro': {
    desc: 'Design sofisticado com excelente aderência para bebidas e produtos premium.',
    infoextra: 'Disponível com acabamento metalizado e perolado. Ideal para cervejas artesanais, sucos e azeites.',
    baseImg: 'garrafa'
  },
  'Rótulos para Potes de Vidro': {
    desc: 'Rótulos charmosos e resistentes, ideais para produtos artesanais como geleias e conservas.',
    infoextra: 'Permite corte personalizado para encaixe perfeito no pote. Opções em BOPP ou couché.',
    baseImg: 'geleia'
  },
  'Rótulos para Embalagens de Carne': {
    desc: 'Etiquetas resistentes à umidade e baixas temperaturas, ideais para produtos resfriados ou congelados.',
    infoextra: 'Adesão firme mesmo com gordura e umidade. BOPP com adesivo especial para baixas temperaturas.',
    baseImg: 'carne'
  },
  'Rótulos para Panificados': {
    desc: 'Perfeitos para destacar produtos de padaria e confeitaria com visual apetitoso e informativo.',
    infoextra: 'Pode incluir espaço para validade e lote. Ideal para embalagem em saquinhos ou bandejas plásticas.',
    baseImg: 'pao'
  }
};


    const produto = produtos[nomeProduto];

    if (produto) {
      document.getElementById('titulo').textContent = nomeProduto;
      document.getElementById('descricao').textContent = produto.desc;
      document.getElementById('infoextra').textContent = produto.infoextra || '';

      const base = produto.baseImg;
      const imgDir = '/imgs/webp/';
      const imagemPrincipal = document.getElementById('imagem-principal');
      const thumbnailsContainer = document.getElementById('thumbnails');

      let imagens = [];
      let index = 1;

      function verificarImagem(url) {
        return new Promise(resolve => {
          const img = new Image();
          img.onload = () => resolve(true);
          img.onerror = () => resolve(false);
          img.src = url;
        });
      }

      async function carregarImagens() {
        while (true) {
          const nomeArquivo = index === 1 ? `${base}.webp` : `${base}${index}.webp`;
          const caminhoCompleto = imgDir + nomeArquivo;

          const existe = await verificarImagem(caminhoCompleto);
          if (!existe) break;

          imagens.push(caminhoCompleto);
          index++;
        }

        if (imagens.length > 0) {
          imagemPrincipal.src = imagens[0];
          imagemPrincipal.alt = nomeProduto;

          imagens.forEach((imgUrl, i) => {
            const thumb = document.createElement('img');
            thumb.src = imgUrl;
            thumb.alt = nomeProduto + ' thumbnail ' + (i + 1);
            thumb.className = 'h-20 w-20 object-cover rounded-md border cursor-pointer hover:border-purple-500';
            thumb.addEventListener('click', () => {
              imagemPrincipal.src = imgUrl;
            });
            thumbnailsContainer.appendChild(thumb);
          });
        } else {
          imagemPrincipal.src = imgDir + 'erro404.webp';
          imagemPrincipal.alt = 'Imagem não disponível';
        }
      }

      carregarImagens();
    } else {
      document.getElementById('titulo').textContent = 'Produto não encontrado';
      document.getElementById('descricao').textContent = 'Não foi possível localizar este produto.';
      document.getElementById('imagem-principal').src = '/imgs/erro404.webp';
    }
  </script>

    <script src="/parciais/footer.js"></script>
    <div id="footer-placeholder"></div>
    <script src="scripts/footer.js"></script>
    <script src="scripts/mensagem.js"></script>

</body>
</html>
